# Update Pokemon with correct PokeAPI IDs based on their names
import os
import django
os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'quickserve.settings')
django.setup()

from pokemon.models import Pokemon

pokeapi_name_to_id = {
    'Bulbasaur': 1,
    'Charmander': 4,
    'Squirtle': 7,
    'Pikachu': 25,
    'Jigglypuff': 39,
    'Psyduck': 54,
    'Gastly': 92,
    'Machop': 95,
    'Geodude': 74,
    'Poliwag': 60,
    'Abra': 63,
    'Oddish': 43,
    'Caterpie': 10,
    'Weedle': 13,
    'Growlithe': 58,
    'Poliwhirl': 61,
    'Kadabra': 64,
    'Slowpoke': 79,
    'Magnemite': 81,
    'Drowzee': 96,
    'Krabby': 98,
    'Voltorb': 100,
    'Exeggcute': 102,
    'Cubone': 104,
    'Ponyta': 77,
    'Snorlax': 143,
    'Dratini': 147,
    'Dragonair': 148,
    'Gyarados': 130,
    'Lapras': 131,
    'Ditto': 132,
    'Eevee': 133,
    'Vaporeon': 134,
    'Jolteon': 135,
    'Flareon': 136,
    'Espeon': 196,
    'Chikorita': 152,
    'Cyndaquil': 155,
    'Totodile': 158,
    'Sentret': 161,
    'Hoothoot': 163,
    'Spinarak': 167,
    'Ledyba': 165,
    'Cleffa': 173,
    'Igglybuff': 174,
    'Togepi': 175,
    'Natu': 177,
    'Mareep': 179,
    'Flaaffy': 180,
    'Ampharos': 181,
    'Marill': 183,
    'Sunkern': 191,
    'Sunflora': 192,
    'Wooper': 194,
    'Quagsire': 195,
    'Murkrow': 198,
    'Treecko': 252,
    'Torchic': 255,
    'Mudkip': 258,
    'Ralts': 280,
    'Kirlia': 281,
    'Gardevoir': 282,
    'Sableye': 302,
    'Mawile': 303,
    'Arcanine': 59,
    'Aggron': 305,
    'Medicham': 308,
    'Manectric': 310,
    'Banette': 354,
    'Camerupt': 323,
    'Altaria': 334,
    'Absol': 359,
    'Wynaut': 360,
    'Wobbuffet': 202,
    'Girafarig': 203,
    'Dunsparce': 207,
    'Turtwig': 387,
    'Chimchar': 390,
    'Piplup': 393,
    'Starly': 396,
    'Bidoof': 399,
    'Kricketot': 401,
    'Shinx': 403,
    'Budew': 406,
    'Riolu': 447,
    'Hippopotas': 450,
    'Skorupi': 451,
    'Croagunk': 453,
    'Spiritomb': 442,
    'Gible': 443,
    'Lucario': 448,
    'Weavile': 461,
    'Magnezone': 462,
    'Togekiss': 468,
    'Yanmega': 469,
    'Leafeon': 470,
    'Glaceon': 471,
    'Gliscor': 472,
    'Mamoswine': 473,
    'Darkrai': 491,
    'Cresselia': 493,
    'Victini': 494,
    'Snivy': 495,
    'Tepig': 498,
    'Oshawott': 501,
    'Patrat': 504,
    'Lillipup': 506,
    'Purrloin': 509,
    'Pansage': 511,
    'Pansear': 514,
    'Panpour': 516,
    'Munna': 517,
    'Pidove': 519,
    'Blitzle': 522,
    'Roggenrola': 524,
    'Woobat': 527,
    'Drilbur': 529,
    'Audino': 531,
    'Timburr': 532,
    'Tympole': 535,
    'Throh': 538,
    'Sawk': 539,
    'Sewaddle': 540,
    'Venipede': 543,
    'Petilil': 546,
    'Basculin': 550,
    'Sandile': 551,
    'Darumaka': 554,
    'Maractus': 556,
    'Dwebble': 557,
    'Scraggy': 559,
    'Sigilyph': 561,
    'Yamask': 562,
    'Tirtouga': 564,
    'Archen': 566,
    'Trubbish': 568,
    'Zorua': 570,
    'Mincormo': 573,
    'Axew': 610,
    'Cubchoo': 613,
    'Cryogonal': 615,
    'Shelmet': 616,
    'Stunfisk': 618,
    'Mienfoo': 619,
    'Druddigon': 621,
    'Golett': 622,
    'Klefki': 707,
    'Deino': 633,
    'Larvesta': 636,
    'Cobalion': 638,
    'Terrakion': 639,
    'Virizion': 640,
    'Tornadus': 641,
    'Thundurus': 642,
    'Reshiram': 643,
    'Zekrom': 644,
    'Kyurem': 646,
    'Keldeo': 647,
    'Meloetta': 648,
    'Genesect': 649,
}

from pokemon.models import Pokemon

# Update each Pokemon with its PokeAPI ID
for pokemon in Pokemon.objects.all():
    if pokemon.name in pokeapi_name_to_id:
        pokemon.pokeapi_id = pokeapi_name_to_id[pokemon.name]
        pokemon.save()
        print(f"Updated {pokemon.name} with pokeapi_id {pokemon.pokeapi_id}")
    else:
        print(f"Warning: No pokeapi_id mapping found for {pokemon.name}")

print(f"\nTotal Pokemon updated: {Pokemon.objects.filter(pokeapi_id__gt=0).count()}")
